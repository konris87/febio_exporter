<?xml version="1.0" ?>
<febio_spec version="2.5">
  <Module type="solid"/>
  <Material>
    <material id="1" name="meniscus_material" type="Mooney-Rivlin">
      <density>1</density>
      <c1>1</c1>
      <c2>0</c2>
      <k>100</k>
    </material>
    <material id="2" name="tibia_material" type="rigid body">
      <density>1</density>
      <center_of_mass>0,-1.5,0.5</center_of_mass>
    </material>
    <material id="3" name="femur_material" type="rigid body">
      <density>1</density>
      <center_of_mass>0,1.5,0.5</center_of_mass>
    </material>
  </Material>
  <Geometry>
    <Nodes name="meniscus_nodes">
      <node id="1">-0.5,-0.5,0.0</node>
      <node id="2">0.5,-0.5,0.0</node>
      <node id="3">0.5,0.5,0.0</node>
      <node id="4">-0.5,0.5,0.0</node>
      <node id="5">-0.5,-0.5,1.0</node>
      <node id="6">0.5,-0.5,1.0</node>
      <node id="7">0.5,0.5,1.0</node>
      <node id="8">-0.5,0.5,1.0</node>
    </Nodes>
    <Elements mat="1" name="meniscus_elements" type="hex8">
      <elem id="1">1,2,3,4,5,6,7,8</elem>
    </Elements>
    <Nodes name="tibia_nodes">
      <node id="9">-0.5,-2.5,0.0</node>
      <node id="10">0.5,-2.5,0.0</node>
      <node id="11">0.5,-0.5,0.0</node>
      <node id="12">-0.5,-0.5,0.0</node>
      <node id="13">-0.5,-2.5,1.0</node>
      <node id="14">0.5,-2.5,1.0</node>
      <node id="15">0.5,-0.5,1.0</node>
      <node id="16">-0.5,-0.5,1.0</node>
    </Nodes>
    <Elements mat="2" name="tibia_elements" type="hex8">
      <elem id="2">9,10,11,12,13,14,15,16</elem>
    </Elements>
    <Nodes name="femur_nodes">
      <node id="17">-0.5,0.5,0.0</node>
      <node id="18">0.5,0.5,0.0</node>
      <node id="19">0.5,2.5,0.0</node>
      <node id="20">-0.5,2.5,0.0</node>
      <node id="21">-0.5,0.5,1.0</node>
      <node id="22">0.5,0.5,1.0</node>
      <node id="23">0.5,2.5,1.0</node>
      <node id="24">-0.5,2.5,1.0</node>
    </Nodes>
    <Elements mat="3" name="femur_elements" type="hex8">
      <elem id="3">17,18,19,20,21,22,23,24</elem>
    </Elements>
    <NodeSet name="m2t">
      <node id="1"/>
      <node id="2"/>
      <node id="6"/>
      <node id="5"/>
    </NodeSet>
    <NodeSet name="m2f">
      <node id="4"/>
      <node id="3"/>
      <node id="7"/>
      <node id="8"/>
    </NodeSet>
  </Geometry>
  <Initial/>
  <Boundary>
    <rigid name="m2t_connector" node_set="m2t" rb="2"/>
    <rigid name="m2f_connector" node_set="m2f" rb="3"/>
    <rigid_body mat="2" name="tibia_constraints">
      <fixed bc="x"/>
      <fixed bc="y"/>
      <fixed bc="z"/>
      <fixed bc="Rx"/>
      <fixed bc="Ry"/>
      <fixed bc="Rz"/>
    </rigid_body>
    <rigid_body mat="3" name="femur_constraints">
      <fixed bc="x"/>
      <fixed bc="z"/>
      <fixed bc="Rx"/>
      <fixed bc="Rz"/>
    </rigid_body>
    <rigid_body mat="3" name="femur_prescribed_motion">
      <prescribed bc="y" lc="1">1</prescribed>
    </rigid_body>
    <rigid_body mat="3" name="femur_prescribed_force">
      <force bc="Ry" lc="2">1</force>
    </rigid_body>
  </Boundary>
  <Loads/>
  <Contact/>
  <Constraints/>
  <LoadData>
    <loadcurve extend="constant" id="1" type="smooth">
      <point>0.0,0.5</point>
      <point>0.1111111111111111,0.8213938048432696</point>
      <point>0.2222222222222222,0.9924038765061041</point>
      <point>0.3333333333333333,0.9330127018922194</point>
      <point>0.4444444444444444,0.6710100716628344</point>
      <point>0.5555555555555556,0.32898992833716567</point>
      <point>0.6666666666666666,0.06698729810778081</point>
      <point>0.7777777777777777,0.007596123493895934</point>
      <point>0.8888888888888888,0.1786061951567302</point>
      <point>1.0,0.4999999999999999</point>
    </loadcurve>
    <loadcurve extend="extrapolate" id="2" type="linear">
      <point>0.0,0.0</point>
      <point>0.1111111111111111,0.006427876096865392</point>
      <point>0.2222222222222222,0.00984807753012208</point>
      <point>0.3333333333333333,0.008660254037844387</point>
      <point>0.4444444444444444,0.0034202014332566887</point>
      <point>0.5555555555555556,-0.0034202014332566865</point>
      <point>0.6666666666666666,-0.008660254037844385</point>
      <point>0.7777777777777777,-0.009848077530122082</point>
      <point>0.8888888888888888,-0.006427876096865396</point>
      <point>1.0,-2.4492935982947064e-18</point>
    </loadcurve>
  </LoadData>
  <Step Name="Step01">
    <Control>
      <time_steps>10</time_steps>
      <step_size>0.1</step_size>
      <max_refs>15</max_refs>
      <max_ups>10</max_ups>
      <diverge_reform>1</diverge_reform>
      <reform_each_time_step>1</reform_each_time_step>
      <dtol>0.001</dtol>
      <etol>0.01</etol>
      <rtol>0</rtol>
      <lstol>0.9</lstol>
      <min_residual>1e-20</min_residual>
      <qnmethod>0</qnmethod>
      <time_stepper>
        <dtmin>0.01</dtmin>
        <dtmax>0.1</dtmax>
        <max_retries>5</max_retries>
        <opt_iter>10</opt_iter>
      </time_stepper>
      <analysis type="static"/>
      <symmetric_stiffness>1</symmetric_stiffness>
      <alpha>1</alpha>
      <beta>0.25</beta>
      <gamma>0.5</gamma>
    </Control>
  </Step>
</febio_spec>
