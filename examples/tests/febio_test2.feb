<?xml version="1.0" ?>
<febio_spec version="2.5">
  <Module type="solid"/>
  <Material>
    <material id="1" name="femur_material" type="Mooney-Rivlin">
      <density>1</density>
      <c1>1</c1>
      <c2>0</c2>
      <k>100</k>
    </material>
    <material id="2" name="tibia_material" type="Mooney-Rivlin">
      <density>1</density>
      <c1>1</c1>
      <c2>0</c2>
      <k>100</k>
    </material>
  </Material>
  <Geometry>
    <Nodes name="femur_nodes">
      <node id="1">-0.5,1.0,0.0</node>
      <node id="2">0.5,1.0,0.0</node>
      <node id="3">0.5,2.0,0.0</node>
      <node id="4">-0.5,2.0,0.0</node>
      <node id="5">-0.5,1.0,1.0</node>
      <node id="6">0.5,1.0,1.0</node>
      <node id="7">0.5,2.0,1.0</node>
      <node id="8">-0.5,2.0,1.0</node>
    </Nodes>
    <Elements mat="1" name="femur_elements" type="hex8">
      <elem id="1">1,2,3,4,5,6,7,8</elem>
    </Elements>
    <Nodes name="tibia_nodes">
      <node id="9">-0.5,-0.5,0.0</node>
      <node id="10">0.5,-0.5,0.0</node>
      <node id="11">0.5,0.5,0.0</node>
      <node id="12">-0.5,0.5,0.0</node>
      <node id="13">-0.5,-0.5,1.0</node>
      <node id="14">0.5,-0.5,1.0</node>
      <node id="15">0.5,0.5,1.0</node>
      <node id="16">-0.5,0.5,1.0</node>
    </Nodes>
    <Elements mat="2" name="tibia_elements" type="hex8">
      <elem id="2">9,10,11,12,13,14,15,16</elem>
    </Elements>
    <NodeSet name="femur_sup">
      <node id="4"/>
      <node id="3"/>
      <node id="8"/>
      <node id="7"/>
    </NodeSet>
    <NodeSet name="femur_inf">
      <node id="1"/>
      <node id="2"/>
      <node id="6"/>
      <node id="5"/>
    </NodeSet>
    <NodeSet name="tibia_inf">
      <node id="9"/>
      <node id="10"/>
      <node id="14"/>
      <node id="13"/>
    </NodeSet>
    <Surface name="femur_master_surf">
      <quad4 id="1">1,2,6,5</quad4>
    </Surface>
    <Surface name="tibia_slave_surf">
      <quad4 id="1">11,12,16,15</quad4>
    </Surface>
    <SurfacePair name="femur_tibia_surf_pair">
      <master surface="femur_master_surf"/>
      <slave surface="tibia_slave_surf"/>
    </SurfacePair>
  </Geometry>
  <Initial/>
  <Boundary>
    <fix bc="x,y,z" name="femur_fix_con" node_set="femur_sup"/>
    <prescribe bc="y" name="femur_pre_con" node_set="femur_inf">
      <scale lc="1">1</scale>
      <relative>0</relative>
    </prescribe>
    <fix bc="x,y,z" name="tibia_fix_con" node_set="tibia_inf"/>
  </Boundary>
  <Loads/>
  <Contact>
    <contact name="f2t_cont" surface_pair="femur_tibia_surf_pair" type="sliding-facet-on-facet">
      <laugon>0</laugon>
      <tolerance>0.2</tolerance>
      <penalty>1</penalty>
      <two_pass>0</two_pass>
      <auto_penalty>0</auto_penalty>
      <fric_coeff>0</fric_coeff>
      <search_tol>0.01</search_tol>
      <minaug>0</minaug>
      <maxaug>10</maxaug>
      <gaptol>0</gaptol>
      <seg_up>0</seg_up>
      <smooth_aug>0</smooth_aug>
      <node_reloc>0</node_reloc>
      <flip_master>0</flip_master>
      <flip_slave>0</flip_slave>
    </contact>
  </Contact>
  <Constraints/>
  <LoadData>
    <loadcurve extend="constant" id="1" type="linear">
      <point>0,0</point>
      <point>1,-1</point>
    </loadcurve>
  </LoadData>
  <Step Name="Step01">
    <Control>
      <time_steps>10</time_steps>
      <step_size>0.1</step_size>
      <max_refs>15</max_refs>
      <max_ups>10</max_ups>
      <diverge_reform>1</diverge_reform>
      <reform_each_time_step>1</reform_each_time_step>
      <dtol>0.001</dtol>
      <etol>0.01</etol>
      <rtol>0</rtol>
      <lstol>0.9</lstol>
      <min_residual>1e-20</min_residual>
      <qnmethod>0</qnmethod>
      <time_stepper>
        <dtmin>0.01</dtmin>
        <dtmax>0.1</dtmax>
        <max_retries>5</max_retries>
        <opt_iter>10</opt_iter>
      </time_stepper>
      <analysis type="dynamic"/>
      <symmetric_stiffness>1</symmetric_stiffness>
      <alpha>1</alpha>
      <beta>0.25</beta>
      <gamma>0.5</gamma>
    </Control>
  </Step>
</febio_spec>
